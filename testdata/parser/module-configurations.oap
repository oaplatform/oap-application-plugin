name = module-configurations

services {
  test-master {
    implementation = oap.application.plugin.TestService
  }
}

configurations = [
  {
    loader = oap.json.TypeIdFactory
    config {
      test = oap.TestData
      test-asset = oap.a.TestAssetData
    }
  }
  {
    loader = oap.MyLoader
    config {
      test-default = "/test.file"
      a = 23
      b = true
    }
  }
]
-----
OAP_FILE
  OAP_MODULE_NAME_PAIR
    PsiElement(name)('name')
    PsiWhiteSpace(' ')
    PsiElement(=)('=')
    PsiWhiteSpace(' ')
    OapModuleNameImpl(OAP_MODULE_NAME)
      PsiElement(key_value)('module-configurations')
  PsiWhiteSpace('\n\n')
  OapModuleServicesImpl(OAP_MODULE_SERVICES)
    PsiElement(services)('services')
    PsiWhiteSpace(' ')
    PsiElement({)('{')
    PsiWhiteSpace('\n')
    PsiWhiteSpace('  ')
    OapModuleServicesServiceImpl(OAP_MODULE_SERVICES_SERVICE)
      OapServiceNameImpl(OAP_SERVICE_NAME)
        PsiElement(key_name)('test-master')
      PsiWhiteSpace(' ')
      PsiElement({)('{')
      PsiWhiteSpace('\n')
      PsiWhiteSpace('    ')
      OapModuleServicesServiceImplementationImpl(OAP_MODULE_SERVICES_SERVICE_IMPLEMENTATION)
        PsiElement(implementation)('implementation')
        PsiWhiteSpace(' ')
        PsiElement(=)('=')
        PsiWhiteSpace(' ')
        OapClassNamePsiImpl(OAP_CLASS_NAME_PSI)
          PsiElement(class_name)('oap.application.plugin.TestService')
      PsiWhiteSpace('\n')
      PsiWhiteSpace('  ')
      PsiElement(})('}')
    PsiWhiteSpace('\n')
    PsiElement(})('}')
  PsiWhiteSpace('\n\n')
  OapModuleConfigurationsImpl(OAP_MODULE_CONFIGURATIONS)
    PsiElement(configurations)('configurations')
    PsiWhiteSpace(' ')
    PsiElement(=)('=')
    PsiWhiteSpace(' ')
    PsiElement([)('[')
    PsiWhiteSpace('\n')
    PsiWhiteSpace('  ')
    OapModuleConfigurationImpl(OAP_MODULE_CONFIGURATION)
      PsiElement({)('{')
      PsiWhiteSpace('\n')
      PsiWhiteSpace('    ')
      OapModuleConfigurationEntriesImpl(OAP_MODULE_CONFIGURATION_ENTRIES)
        OapModuleConfigurationEntriesLoaderImpl(OAP_MODULE_CONFIGURATION_ENTRIES_LOADER)
          PsiElement(loader)('loader')
          PsiWhiteSpace(' ')
          PsiElement(=)('=')
          PsiWhiteSpace(' ')
          OapClassNamePsiImpl(OAP_CLASS_NAME_PSI)
            PsiElement(class_name)('oap.json.TypeIdFactory')
        PsiWhiteSpace('\n')
        PsiWhiteSpace('    ')
        OapModuleConfigurationEntriesConfigImpl(OAP_MODULE_CONFIGURATION_ENTRIES_CONFIG)
          PsiElement(config)('config')
          PsiWhiteSpace(' ')
          OapConfigObjectImpl(OAP_CONFIG_OBJECT)
            PsiElement({)('{')
            PsiWhiteSpace('\n')
            PsiWhiteSpace('      ')
            OapConfigurationKeyValuePairImpl(OAP_CONFIGURATION_KEY_VALUE_PAIR)
              PsiElement(key_name)('test')
              PsiWhiteSpace(' ')
              PsiElement(=)('=')
              PsiWhiteSpace(' ')
              OapIdValueImpl(OAP_ID_VALUE)
                PsiElement(key_value)('oap.TestData')
            PsiWhiteSpace('\n')
            PsiWhiteSpace('      ')
            OapConfigurationKeyValuePairImpl(OAP_CONFIGURATION_KEY_VALUE_PAIR)
              PsiElement(key_name)('test-asset')
              PsiWhiteSpace(' ')
              PsiElement(=)('=')
              PsiWhiteSpace(' ')
              OapIdValueImpl(OAP_ID_VALUE)
                PsiElement(key_value)('oap.a.TestAssetData')
            PsiWhiteSpace('\n')
            PsiWhiteSpace('    ')
            PsiElement(})('}')
      PsiWhiteSpace('\n')
      PsiWhiteSpace('  ')
      PsiElement(})('}')
    PsiWhiteSpace('\n')
    PsiWhiteSpace('  ')
    OapModuleConfigurationImpl(OAP_MODULE_CONFIGURATION)
      PsiElement({)('{')
      PsiWhiteSpace('\n')
      PsiWhiteSpace('    ')
      OapModuleConfigurationEntriesImpl(OAP_MODULE_CONFIGURATION_ENTRIES)
        OapModuleConfigurationEntriesLoaderImpl(OAP_MODULE_CONFIGURATION_ENTRIES_LOADER)
          PsiElement(loader)('loader')
          PsiWhiteSpace(' ')
          PsiElement(=)('=')
          PsiWhiteSpace(' ')
          OapClassNamePsiImpl(OAP_CLASS_NAME_PSI)
            PsiElement(class_name)('oap.MyLoader')
        PsiWhiteSpace('\n')
        PsiWhiteSpace('    ')
        OapModuleConfigurationEntriesConfigImpl(OAP_MODULE_CONFIGURATION_ENTRIES_CONFIG)
          PsiElement(config)('config')
          PsiWhiteSpace(' ')
          OapConfigObjectImpl(OAP_CONFIG_OBJECT)
            PsiElement({)('{')
            PsiWhiteSpace('\n')
            PsiWhiteSpace('      ')
            OapConfigurationKeyValuePairImpl(OAP_CONFIGURATION_KEY_VALUE_PAIR)
              PsiElement(key_name)('test-default')
              PsiWhiteSpace(' ')
              PsiElement(=)('=')
              PsiWhiteSpace(' ')
              OapIdValueImpl(OAP_ID_VALUE)
                PsiElement(key_value)('"/test.file"')
            PsiWhiteSpace('\n')
            PsiWhiteSpace('      ')
            OapConfigurationKeyValuePairImpl(OAP_CONFIGURATION_KEY_VALUE_PAIR)
              PsiElement(key_name)('a')
              PsiWhiteSpace(' ')
              PsiElement(=)('=')
              PsiWhiteSpace(' ')
              OapIdValueImpl(OAP_ID_VALUE)
                PsiElement(key_value)('23')
            PsiWhiteSpace('\n')
            PsiWhiteSpace('      ')
            OapConfigurationKeyValuePairImpl(OAP_CONFIGURATION_KEY_VALUE_PAIR)
              PsiElement(key_name)('b')
              PsiWhiteSpace(' ')
              PsiElement(=)('=')
              PsiWhiteSpace(' ')
              OapBoolValueImpl(OAP_BOOL_VALUE)
                PsiElement(bool)('true')
            PsiWhiteSpace('\n')
            PsiWhiteSpace('    ')
            PsiElement(})('}')
      PsiWhiteSpace('\n')
      PsiWhiteSpace('  ')
      PsiElement(})('}')
    PsiWhiteSpace('\n')
    PsiElement(])(']')